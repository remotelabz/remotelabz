{% extends 'dashboard.base.html.twig' %}

{% block header %}
    {% set category = 'dashboard_groups' %}
    {{ parent() }}
{% endblock %}

{% block breadcrumbs %}{% endblock %}

{% macro groupParent(group) %}
    {% if group.parent is not null %}{{ _self.groupParent(group.parent) }} {{ group.parent.name }} /{% endif %}
{% endmacro %}

{% block sidebar %}{% endblock %}

{% block wrapper %}
    <div class="content-title py-3">
        <div class="content-title-infos">
            <h1 class="page-title">Groups</h1>
        </div>
        <div class="content-title-actions">
            {% if is_granted('ROLE_TEACHER') %}
                <a href="{{ path('new_group') }}" class="btn btn-success">{{ 'New group'|trans }}</a>
            {% endif %}
        </div>
    </div>
    <div class="content-list">
        <div class="top-panel">
            {% embed "@layouts/topbar_tabbed.html.twig" %}
                {% import "components.html.twig" as components %}
                {% block quick_actions %}
                {% endblock %}
                {% block items %}
                    {{ components.topbar_tab('Your groups', 'dashboard_groups') }}
                {% endblock %}
            {% endembed %}
        </div>
        {{- react_component('GroupExplorer', {'props': {"endpoint": path('api_groups'), "user": app.user.email}}) -}}
    </div>
{% endblock %}